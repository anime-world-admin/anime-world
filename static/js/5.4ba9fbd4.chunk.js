(this.webpackJsonpanime_world=this.webpackJsonpanime_world||[]).push([[5],{129:function(e,t,n){e.exports={iconInput:"IconInput__AIQDh1L"}},130:function(e,t,n){"use strict";var o=n(12),i=n(13),a=n(18),s=n(16),r=n(15),c=n(1),l=n.n(c),p=n(129),u=n.n(p),d=n(131),b=n.n(d),h=n(5),m=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).onKeyPress=i.onKeyPress.bind(Object(a.a)(i)),i.onPaste=i.onPaste.bind(Object(a.a)(i)),i.updateValue=i.updateValue.bind(Object(a.a)(i)),i}return Object(i.a)(n,[{key:"updateValue",value:function(e){this.props.onInput&&this.props.onInput(-1!==e.target.type.indexOf("file")?e.target.files:e.target.value)}},{key:"onKeyPress",value:function(e){this.props.onKeyPress&&this.props.onKeyPress(e)}},{key:"onPaste",value:function(e){this.updateValue(e),this.props.onPaste&&this.props.onPaste(e)}},{key:"render",value:function(){return Object(h.jsx)("input",{value:this.props.value,onInput:this.updateValue,onKeyUp:this.onKeyPress,className:"".concat(b.a.input," ").concat(this.props.className||""),placeholder:this.props.placeHolder,type:this.props.type||"text",autoComplete:"true",accept:this.props.accept||"*",multiple:this.props.multiple||!1,onPaste:this.onPaste})}}]),n}(l.a.Component),f=n(33),v=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).updateValue=i.updateValue.bind(Object(a.a)(i)),i}return Object(i.a)(n,[{key:"updateValue",value:function(e){this.props.onInput&&this.props.onInput(e)}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"".concat(u.a.iconInput," ").concat(this.props.className||""),children:[Object(h.jsx)(m,{onInput:this.updateValue,placeHolder:this.props.placeHolder,type:this.props.type,value:this.props.value,accept:this.props.accept,multiple:this.props.multiple,onKeyPress:this.props.onKeyPress,onPaste:this.props.onPaste}),Object(h.jsx)(f.a,{faw:!0,icon:this.props.icon,onClick:this.props.onIconClick})]})}}]),n}(l.a.Component);t.a=v},131:function(e,t,n){e.exports={input:"Input__3PNbOY4"}},132:function(e,t,n){"use strict";t.a=n.p+"static/media/404.6cbb31cc.png"},133:function(e,t,n){"use strict";var o=n(30),i=n(12),a=n(13),s=n(18),r=n(16),c=n(15),l=n(1),p=n.n(l),u=n(137),d=n.n(u),b=n(130),h=n(64),m=n(138),f=n.n(m),v=n(5),j=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).onClick=o.onClick.bind(Object(s.a)(o)),o}return Object(a.a)(n,[{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){return Object(v.jsx)("button",{onClick:this.onClick,className:"".concat(f.a.button," ").concat(this.props.className||""," ").concat(void 0===this.props.ripple||this.props.ripple?f.a.ripple:""),children:this.props.title})}}]),n}(p.a.Component),O=n(129),g=n.n(O),y=n(33),k=n(139),C=n.n(k),_=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).state={value:o.props.value||""},o.onKeyUp=o.onKeyUp.bind(Object(s.a)(o)),o.updateValue=o.updateValue.bind(Object(s.a)(o)),o}return Object(a.a)(n,[{key:"onKeyUp",value:function(e){this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"updateValue",value:function(e){var t=this;this.setState({value:e.target.value},(function(){t.props.onInput&&t.props.onInput(t.state.value)}))}},{key:"componentDidUpdate",value:function(){this.state.value!==this.props.value&&this.setState({value:this.props.value})}},{key:"render",value:function(){return Object(v.jsx)("textarea",Object(o.a)(Object(o.a)({},this.props),{},{className:"".concat(C.a.container," ").concat(this.props.className||""),placeholder:this.props.placeHolder||"Enter the value",onInput:this.updateValue,onKeyUp:this.onKeyUp}))}}]),n}(p.a.Component),x=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).updateValue=o.updateValue.bind(Object(s.a)(o)),o}return Object(a.a)(n,[{key:"updateValue",value:function(e){this.props.onInput&&this.props.onInput(e)}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"".concat(g.a.iconInput," ").concat(this.props.className||""),children:[Object(v.jsx)(_,{onInput:this.updateValue,placeHolder:this.props.placeHolder,value:this.props.value,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste}),Object(v.jsx)(y.a,{faw:!0,icon:this.props.icon,onClick:this.props.onIconClick})]})}}]),n}(p.a.Component),V=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).titleComponent=Object(h.a)((function(e){return Object(v.jsx)("div",{className:d.a.title,children:e.title})})),o.onFormSubmit=o.onFormSubmit.bind(Object(s.a)(o)),o.onFormConfirm=o.onFormConfirm.bind(Object(s.a)(o)),o.onFormCancel=o.onFormCancel.bind(Object(s.a)(o)),o}return Object(a.a)(n,[{key:"onFormSubmit",value:function(e){return e.preventDefault(),!1}},{key:"onFormConfirm",value:function(){this.props.onSubmit&&this.props.onSubmit()}},{key:"onFormCancel",value:function(){this.props.onCancel&&this.props.onCancel()}},{key:"render",value:function(){return Object(v.jsxs)("div",{id:this.props.id,className:d.a.formContainer,children:[Object(v.jsxs)("div",{className:d.a.head,children:[Object(v.jsx)(this.titleComponent,{toolTipText:this.props.hint||this.props.title,title:this.props.title,position:"bottom",className:d.a.toolTip}),Object(v.jsx)("div",{className:d.a.miniTitle,children:this.props.miniTitle})]}),Object(v.jsxs)("form",{className:d.a.form,onSubmit:this.onFormSubmit,action:"#",children:[Object(v.jsxs)("div",{className:d.a.inputContainer,children:[(this.props.inputs||[]).map((function(e,t){return e.textArea?Object(l.createElement)(x,Object(o.a)(Object(o.a)({},e),{},{key:t})):Object(l.createElement)(b.a,Object(o.a)(Object(o.a)({},e),{},{key:t}))})),this.props.children]}),Object(v.jsxs)("div",{className:d.a.buttonContainer,children:[Object(v.jsx)(j,{title:"Submit",onClick:this.onFormConfirm}),Object(v.jsx)(j,{title:"Cancel",onClick:this.onFormCancel})]})]})]})}}]),n}(p.a.Component);t.a=V},137:function(e,t,n){e.exports={formContainer:"Form__lz0NI3P",head:"Form__1DAWWXZ",toolTip:"Form__Q90Qetd",title:"Form__lNS_YJ3",miniTitle:"Form__2qwZvGP",form:"Form__2TM1NoK",inputContainer:"Form__2PdQ0Zm",buttonContainer:"Form__KKQJEvD"}},138:function(e,t,n){e.exports={button:"Button__3QF_kfq",ripple:"Button__1ELLtUC"}},139:function(e,t,n){e.exports={container:"TextArea__17smsUJ"}},148:function(e,t,n){e.exports={newAndOldBlog:"PostBlog__3SoBIj8",postContainer:"PostBlog__31ad-rx",genreSelect:"PostBlog__2emt2t3",title:"PostBlog__Uw8xor2",videoChips:"PostBlog__1w7VSW9",blogList:"PostBlog__3GMjtKI"}},149:function(e,t,n){e.exports={chips:"Chips__tRVp38f",title:"Chips__1CmNQNx"}},151:function(e,t,n){"use strict";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(t);var a=n(12),s=n(13),r=n(18),c=n(16),l=n(15),p=n(1),u=n.n(p),d=n(148),b=n.n(d),h=n(20),m=n(11),f=n(14),v=n(133),j=n(17),O=n(42),g=n(72),y=n(149),k=n.n(y),C=n(33),_=n(5),x=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).onClose=o.onClose.bind(Object(r.a)(o)),o}return Object(s.a)(n,[{key:"onClose",value:function(){this.props.onClose&&this.props.onClose()}},{key:"render",value:function(){return Object(_.jsxs)("div",{className:k.a.chips,children:[Object(_.jsx)("div",{className:k.a.title,children:this.props.title}),Object(_.jsx)(C.a,{faw:!0,icon:"fa-close",onClick:this.onClose})]})}}]),n}(u.a.Component),V=n(37),I=n(132),N=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).state={blogTitle:"",blogContent:"",images:[],videos:[],genre:m.c[0].id,videoLink:""},o.__generateBase64FromBlob=o.__generateBase64FromBlob.bind(Object(r.a)(o)),o.openVideoUploadWebsite=o.openVideoUploadWebsite.bind(Object(r.a)(o)),o.pushImagesToServer=o.pushImagesToServer.bind(Object(r.a)(o)),o.removeBlog=o.removeBlog.bind(Object(r.a)(o)),o.removeVideoLink=o.removeVideoLink.bind(Object(r.a)(o)),o.updateTitle=o.updateTitle.bind(Object(r.a)(o)),o.updateGenre=o.updateGenre.bind(Object(r.a)(o)),o.updateContent=o.updateContent.bind(Object(r.a)(o)),o.updateImages=o.updateImages.bind(Object(r.a)(o)),o.updateVideoValue=o.updateVideoValue.bind(Object(r.a)(o)),o.updateVideos=o.updateVideos.bind(Object(r.a)(o)),o.updateVideoLinks=o.updateVideoLinks.bind(Object(r.a)(o)),o.updateOnVideoLinkPaste=o.updateOnVideoLinkPaste.bind(Object(r.a)(o)),o.postNewBlog=o.postNewBlog.bind(Object(r.a)(o)),o.cancelBlog=o.cancelBlog.bind(Object(r.a)(o)),o}return Object(s.a)(n,[{key:"__generateBase64FromBlob",value:function(e){return new Promise((function(t,n){var o=new FileReader;o.readAsDataURL(e),o.onloadend=function(){return t(o.result)},o.onerror=function(e){return n(e)}}))}},{key:"openVideoUploadWebsite",value:function(){window.open("https://cloudinary.com/console/c-d9f217fc69510586547abf8efb3b2b/media_library/folders/home","_blank")}},{key:"pushImagesToServer",value:function(e,t){var n=new FormData;return n.append("image",t),n.append("name",e),fetch("https://api.imgbb.com/1/upload?key=".concat(m.h),{method:"POST",body:n})}},{key:"removeBlog",value:function(e){var t=this;O.b.ref("".concat(m.g.blog,"/").concat(e.id)).remove((function(n){n?t.props.addNotification(e.id,{id:e.id,notification:n.message,title:n.code}):t.props.updateBlog(t.props.blogs.filter((function(t){return t.id!==e.id})))}))}},{key:"removeVideoLink",value:function(e){this.setState({videos:this.state.videos.filter((function(t){return t!==e}))})}},{key:"updateTitle",value:function(e){this.setState({blogTitle:e})}},{key:"updateGenre",value:function(e){var t=e.target.value;this.setState({genre:m.c.findIndex((function(e){return e.name===t}))})}},{key:"updateContent",value:function(e){this.setState({blogContent:e})}},{key:"updateImages",value:function(e){this.setState({images:Object.assign([],e)})}},{key:"updateVideoValue",value:function(e){this.setState({videoLink:e},this.updateVideoLinks)}},{key:"updateVideoLinks",value:function(){this.state.videoLink&&/^(http|https):\/\/([a-zA-Z0-9]+(\.\/)*)+\.[a-z]{3,}/.test(this.state.videoLink)&&this.setState({videos:Object.assign([],[this.state.videoLink].concat(i(this.state.videos))),videoLink:""})}},{key:"updateVideos",value:function(e){switch(e.preventDefault(),e.keyCode){case 32:this.updateVideoLinks()}}},{key:"updateOnVideoLinkPaste",value:function(e){this.updateVideoLinks()}},{key:"postNewBlog",value:function(){var e=this;if(this.state.blogTitle&&this.state.blogContent){this.props.toggleLoader(!0);var t=[],n=this.state.images.map((function(n){var o=Date.now(),i="".concat(o,"_").concat(n.name);return e.pushImagesToServer(i,n).then((function(e){return e.json()})).then((function(e){if(!/2[0-9][0-9]/.test(e.status))throw new Error("Error posting ".concat(n.name));t.push({id:e.data.id,url:e.data.url,delete:e.data.delete_url})})).catch((function(t){e.props.addNotification(o,{id:o,notification:t.message,title:"Error posting "+n.name})}))}));(n.length?n.reverse():[Promise.resolve(!0)])[0].finally((function(){var n=new g.a({title:e.state.blogTitle,blog:e.state.blogContent,createdBy:e.props.currentUser.email,imageLinks:t.length?t:[{url:I.a}],videoLinks:e.state.videos,genre:e.state.genre});O.b.ref("".concat(m.g.blog,"/").concat(n.id)).set(n.toJSON()).catch((function(t){e.props.addNotification(n.id,{id:n.id,notification:t.message,title:"Error posting to DB"})})).finally((function(){e.cancelBlog(),e.props.toggleLoader(!1)}))}))}else{var o=Math.random();this.props.addNotification(o,{notification:"Kindly enter the missing values",title:"Values Missing",key:o})}}},{key:"cancelBlog",value:function(){this.setState({blogTitle:"",blogContent:"",images:[],videos:[]})}},{key:"render",value:function(){var e=this;return this.props.isAdmin?Object(_.jsxs)("div",{id:b.a.newAndOldBlog,children:[Object(_.jsx)(v.a,{id:b.a.postContainer,title:"New blog",onSubmit:this.postNewBlog,onCancel:this.cancelBlog,inputs:[{icon:"fa-pencil",faw:!0,placeHolder:"Enter the blog title",value:this.state.blogTitle,onInput:this.updateTitle},{icon:"fa-cc",faw:!0,placeHolder:"Enter the blog content",textArea:!0,value:this.state.blogContent,onInput:this.updateContent},{type:"file",icon:"fa-image",accept:"image/*",multiple:!0,onInput:this.updateImages},{icon:"fa-video-camera",onKeyPress:this.updateVideos,onInput:this.updateVideoValue,value:this.state.videoLink,onPaste:this.updateOnVideoLinkPaste,placeHolder:"Enter the video url [Press space bar or copy paste] - Click on icon to open video upload site",onIconClick:this.openVideoUploadWebsite}],children:Object(_.jsxs)("div",{className:b.a.genreSelect,children:[Object(_.jsx)("div",{className:b.a.title,children:"Genre"}),Object(_.jsx)("select",{onChange:this.updateGenre,children:m.c.map((function(e,t){return Object(_.jsx)("option",{value:e.name,children:e.name},t)}))})]})}),Object(_.jsx)("div",{className:b.a.videoChips,children:this.state.videos.map((function(t){return Object(_.jsx)(x,{title:t,onClose:function(){return e.removeVideoLink(t)}},Math.random())}))}),Object(_.jsx)("div",{className:b.a.blogList,children:(this.props.blogs||[]).map((function(t){return Object(_.jsx)(x,{title:"".concat(t.title," Posted on ").concat(t.postedOn),onClose:function(){return e.removeBlog(t)}},t.id)}))})]}):Object(_.jsx)(f.a,{to:m.f.auth})}}]),n}(u.a.Component);t.default=Object(h.b)((function(e){var t=e.user,n=e.blog;return{isAdmin:t.isAdmin,currentUser:t.currentUser,blogs:n.blogs}}),(function(e){return{addNotification:function(t,n){return e(Object(j.a)(t,n))},toggleLoader:function(t){return e(Object(j.d)(t))},updateBlog:function(t){return e(Object(V.b)(t))}}}))(N)}}]);