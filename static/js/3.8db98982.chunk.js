(this.webpackJsonpanime_world=this.webpackJsonpanime_world||[]).push([[3],{129:function(t,e,n){t.exports={iconInput:"IconInput__AIQDh1L"}},130:function(t,e,n){"use strict";var o=n(12),s=n(13),a=n(18),i=n(16),r=n(15),c=n(1),l=n.n(c),p=n(129),u=n.n(p),h=n(131),m=n.n(h),d=n(5),b=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).onKeyPress=s.onKeyPress.bind(Object(a.a)(s)),s.onPaste=s.onPaste.bind(Object(a.a)(s)),s.updateValue=s.updateValue.bind(Object(a.a)(s)),s}return Object(s.a)(n,[{key:"updateValue",value:function(t){this.props.onInput&&this.props.onInput(-1!==t.target.type.indexOf("file")?t.target.files:t.target.value)}},{key:"onKeyPress",value:function(t){this.props.onKeyPress&&this.props.onKeyPress(t)}},{key:"onPaste",value:function(t){this.updateValue(t),this.props.onPaste&&this.props.onPaste(t)}},{key:"render",value:function(){return Object(d.jsx)("input",{value:this.props.value,onInput:this.updateValue,onKeyUp:this.onKeyPress,className:"".concat(m.a.input," ").concat(this.props.className||""),placeholder:this.props.placeHolder,type:this.props.type||"text",autoComplete:"true",accept:this.props.accept||"*",multiple:this.props.multiple||!1,onPaste:this.onPaste})}}]),n}(l.a.Component),j=n(33),g=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).updateValue=s.updateValue.bind(Object(a.a)(s)),s}return Object(s.a)(n,[{key:"updateValue",value:function(t){this.props.onInput&&this.props.onInput(t)}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"".concat(u.a.iconInput," ").concat(this.props.className||""),children:[Object(d.jsx)(b,{onInput:this.updateValue,placeHolder:this.props.placeHolder,type:this.props.type,value:this.props.value,accept:this.props.accept,multiple:this.props.multiple,onKeyPress:this.props.onKeyPress,onPaste:this.props.onPaste}),Object(d.jsx)(j.a,{faw:!0,icon:this.props.icon,onClick:this.props.onIconClick})]})}}]),n}(l.a.Component);e.a=g},131:function(t,e,n){t.exports={input:"Input__3PNbOY4"}},132:function(t,e,n){"use strict";e.a=n.p+"static/media/404.6cbb31cc.png"},134:function(t,e,n){"use strict";var o=n(30),s=n(12),a=n(13),i=n(16),r=n(15),c=n(1),l=n.n(c),p=n(135),u=n.n(p),h=n(5);e.a=function(t){return function(e){Object(i.a)(c,e);var n=Object(r.a)(c);function c(){return Object(s.a)(this,c),n.apply(this,arguments)}return Object(a.a)(c,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"".concat(u.a.card," ").concat(u.a.modal," ").concat(this.props.active||void 0===this.props.active?u.a.activeModal:""," ").concat(this.props.className||""),children:Object(h.jsx)(t,Object(o.a)({},this.props))})}}]),c}(l.a.Component)}},135:function(t,e,n){t.exports={card:"Card__33D4Shx",modal:"Card__2kPs4X_",slideDown:"Card__2QxgUdY",activeModal:"Card__3lkHveD",slideUp:"Card__dl7YjV2"}},140:function(t,e,n){"use strict";var o=n(30),s=n(12),a=n(13),i=n(18),r=n(16),c=n(15),l=n(1),p=n.n(l),u=n(66),h=n(141),m=n.n(h),d=n(5),b=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).state={showComponentA:!0},o.properties=o.props.properties||{},o.componentA=o.props.componentA||null,o.componentB=o.props.componentB||null,o.onFormSwitch=o.onFormSwitch.bind(Object(i.a)(o)),o.toggleComponent=o.toggleComponent.bind(Object(i.a)(o)),o}return Object(a.a)(n,[{key:"onFormSwitch",value:function(t){}},{key:"toggleComponent",value:function(){var t=this;this.setState({showComponentA:!this.state.showComponentA},(function(){t.onFormSwitch(t.state.showComponentA)}))}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"".concat(m.a.container," ").concat(this.props.className||""),children:[Object(d.jsxs)("div",{className:m.a.selectionContainer,children:[Object(d.jsx)("span",{className:this.state.showComponentA?m.a.active:"",children:this.properties.aTitle}),Object(d.jsx)(u.a,{value:!this.state.showComponentA,onToggle:this.toggleComponent}),Object(d.jsx)("span",{className:this.state.showComponentA?"":m.a.active,children:this.properties.bTitle})]}),this.state.showComponentA?this.componentA?Object(d.jsx)(this.componentA,Object(o.a)({},this.properties.componentA)):null:this.componentB?Object(d.jsx)(this.componentB,Object(o.a)({},this.properties.componentB)):null,this.props.children||null]})}}]),n}(p.a.Component);e.a=b},141:function(t,e,n){t.exports={container:"DualPage__Ljh9MKf",selectionContainer:"DualPage__2Mg8zjc",active:"DualPage__2HGN9cZ"}},142:function(t,e,n){t.exports={main:"Main__3ZzQtMW",fab:"Main__1Sxgz86",blogCard:"Main__3QU9-kt",blogContainer:"Main__175LXJs",blog:"Main__5R5ZAKV",videoContainer:"Main__38DroCI",videoBox:"Main__3VmW95p"}},143:function(t,e,n){t.exports={blog:"Blog__1D2duyU",titleAssetContainer:"Blog__2FhHjT0",title:"Blog__3gJvkIm",assets:"Blog__3ZHca09",asset:"Blog__SqHzPSB",bg:"Blog__3W71o0o",details:"Blog___Bs_pBj",meta:"Blog__uOYDp-W",blogMeta:"Blog__36EBBFv",auth:"Blog__2TcSqUN",content:"Blog__1ZhvUBJ",commentContainer:"Blog__vj8aFxi",comments:"Blog__2AP_Njz",commentBox:"Blog__1KVm9Om",comment:"Blog__2rJqpfV",commentee:"Blog__2j8dVRQ"}},144:function(t,e,n){t.exports={fab:"Fab__jAYewi4",fabWithMenu:"Fab__29MbLSF",title:"Fab__1jLiBo0",fabMenu:"Fab__3bAd8Kk",menuContainer:"Fab__1RApqSD",anchor:"Fab__Nanl2OP",show:"Fab__1yCe6vl"}},145:function(t,e,n){t.exports={video:"Video__2jJPWlY"}},146:function(t,e,n){t.exports={marquee:"Marquee__tIqKugl",content:"Marquee__3p1Kaka",marqueeFwd:"Marquee__WmzxrBB",reverse:"Marquee__VE3-ftL",marqueeRev:"Marquee__1zXpqTJ"}},152:function(t,e,n){"use strict";n.r(e);var o=n(30),s=n(12),a=n(13),i=n(18),r=n(16),c=n(15),l=n(1),p=n.n(l),u=n(142),h=n.n(u),m=n(20),d=n(140),b=n(33),j=n(144),g=n.n(j),f=n(34),v=n(5),O=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).state={fabClosed:!0},o.toggleFab=o.toggleFab.bind(Object(i.a)(o)),o}return Object(a.a)(n,[{key:"toggleFab",value:function(){var t=this;this.setState({fabClosed:!this.props.items||!this.state.fabClosed},(function(){t.props.onClick&&t.props.onClick(t.state.fabClosed)}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"".concat(g.a.fab," ").concat(this.state.fabClosed?"":g.a.show," ").concat(this.props.items?g.a.fabWithMenu:""," ").concat(this.props.className||""),onClick:this.toggleFab,onBlur:this.toggleFab,children:[Object(v.jsx)("div",{className:g.a.title,children:Object(v.jsx)(b.a,{icon:"fa-plus",faw:!0})}),this.props.items?Object(v.jsx)("div",{className:g.a.fabMenu,children:Object(v.jsx)("div",{className:g.a.menuContainer,children:(this.props.items||[]).map((function(t){return t.isLink?Object(v.jsx)(f.b,{to:t.path,className:g.a.anchor,children:Object(v.jsx)(b.a,Object(o.a)({},t))},Math.random()):Object(v.jsx)(b.a,Object(o.a)({},t),Math.random())}))})}):null]})}}]),n}(p.a.Component),C=n(143),_=n.n(C),y=n(64),k=n(145),x=n.n(k),N=n(84),B=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).id="".concat(x.a.video,"-").concat(Math.floor(500*Math.random()).toString()),o.videoDOM=p.a.createRef(),o.videoPlayer=null,o}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.videoPlayer=Object(N.a)(this.id,Object.assign({},this.props,{autoPlay:!1,controls:!0,controlBar:{seekToLive:!1,pictureInPictureToggle:!1},playbackRates:[.25,.5,1,1.5,2],sources:[{src:this.props.src,type:"video/mp4"}]}))}},{key:"componentWillUnmount",value:function(){this.videoPlayer&&this.videoPlayer.dispose()}},{key:"render",value:function(){return Object(v.jsx)("video",{id:this.id,playsInline:!0,className:"video-js ".concat(x.a.video),ref:this.videoDOM,children:Object(v.jsx)("p",{className:"vjs-no-js",children:"To view the video, Kindly enable Javascript on your browser or try installing latest browsers"})})}}]),n}(p.a.Component),w=n(146),A=n.n(w),M=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).styles={speed:o.props.speed||15,reverse:o.props.reverse||!1,backgroundColor:o.props.backgroundColor||"white",color:o.props.color||"black"},o}return Object(a.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"".concat(A.a.marquee," ").concat(this.styles.reverse?A.a.reverse:""),style:{"--speed":"".concat(this.styles.speed,"s"),"--bg-color":this.styles.backgroundColor,"--color":this.styles.color},children:Object(v.jsx)("div",{className:A.a.content,children:"string"!==typeof this.props.text?Object(v.jsx)(this.props.text,{}):this.props.text})})}}]),n}(p.a.Component),P=n(130),U=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:_.a.commentContainer,children:[Object(v.jsx)("div",{className:_.a.comments,children:(this.props.comments||[]).map((function(t,e){return Object(v.jsxs)("div",{className:_.a.commentBox,children:[Object(v.jsx)("div",{className:_.a.comment,children:t.comment}),Object(v.jsx)("div",{className:_.a.commentee,children:t.user})]},e)}))}),Object(v.jsx)(P.a,{icon:"fa-comment",value:this.props.comment,onInput:this.props.onInput,onKeyPress:this.props.onKeyPress,placeHolder:this.props.placeHolder,onIconClick:this.props.onIconClick})]})}}]),n}(p.a.Component),S=n(37),I=n(11),D=n(42),L=n(17),F=function(t){return Object(v.jsx)(M,{text:function(e){return Object(v.jsxs)("div",{className:_.a.blogMeta,children:["Posted by ",Object(v.jsx)("div",{className:_.a.auth,children:t.blog.createdBy})," on ",t.blog.postedOn]})}})},T=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).state={showComment:!1,currentUserComment:"",isLiked:!1,isCommented:!1},o.tooltipBlogMeta=Object(y.a)(F),o.toggleCommentDisplay=o.toggleCommentDisplay.bind(Object(i.a)(o)),o.updateCurrentUserComment=o.updateCurrentUserComment.bind(Object(i.a)(o)),o.__checkLikeAndCommentStatus=o.__checkLikeAndCommentStatus.bind(Object(i.a)(o)),o.onDBError=o.onDBError.bind(Object(i.a)(o)),o.onComment=o.onComment.bind(Object(i.a)(o)),o.addComment=o.addComment.bind(Object(i.a)(o)),o.onLike=o.onLike.bind(Object(i.a)(o)),o}return Object(a.a)(n,[{key:"__checkLikeAndCommentStatus",value:function(){if(this.props.blog&&this.props.currentUser){var t=-1!==this.props.blog.likes.indexOf(this.props.currentUser.email),e=-1!==this.props.blog.comments.map((function(t){return t.user||""})).indexOf(this.props.currentUser.email);t!==this.state.isLiked&&this.setState({isLiked:t}),e!==this.state.isCommented&&this.setState({isCommented:e})}}},{key:"componentDidMount",value:function(){this.__checkLikeAndCommentStatus()}},{key:"onDBError",value:function(t){if(t){var e=Math.random();this.props.addNotification(e,{id:e,notification:t.message,title:t.code})}}},{key:"componentDidUpdate",value:function(t){this.__checkLikeAndCommentStatus()}},{key:"addComment",value:function(){var t=this;this.state.currentUserComment&&!/^\s*$/.test(this.state.currentUserComment)&&(this.props.blog.commentIt(this.props.currentUser.email,this.state.currentUserComment),this.updateCurrentUserComment(""),this.props.updateBlog(this.props.blog),D.b.ref("".concat(I.g.blog,"/").concat(this.props.blog.id)).set(this.props.blog.toJSON(),(function(e){return t.onDBError(e)})))}},{key:"onComment",value:function(t){switch(t.preventDefault(),t.keyCode){case 13:this.addComment()}}},{key:"updateCurrentUserComment",value:function(t){this.setState({currentUserComment:t})}},{key:"onLike",value:function(){var t=this;this.props.isAnonymous||(this.state.isLiked?this.props.blog.unlikeIt(this.props.currentUser.email):this.props.blog.likeIt(this.props.currentUser.email),this.props.updateBlog(this.props.blog),D.b.ref("".concat(I.g.blog,"/").concat(this.props.blog.id)).set(this.props.blog.toJSON(),(function(e){return t.onDBError(e)})))}},{key:"toggleCommentDisplay",value:function(){!this.props.isAnonymous&&this.setState({showComment:!this.state.showComment})}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"".concat(_.a.blog," ").concat(this.props.className||""),children:[Object(v.jsxs)("div",{className:_.a.titleAssetContainer,children:[Object(v.jsx)("div",{className:_.a.title,children:this.props.blog.title}),Object(v.jsx)("div",{className:_.a.assets,children:this.props.blog.assets.map((function(t,e){return Object(v.jsxs)("div",{className:_.a.asset,children:[Object(v.jsx)("div",{className:_.a.bg,style:{backgroundImage:'url("'.concat(t.video?"video/c1":t.url,'")')}}),t.video?Object(v.jsx)(B,{src:t.url}):Object(v.jsx)("img",{src:t.url,alt:"Asset ".concat(e)})]},e)}))})]}),Object(v.jsxs)("div",{className:_.a.details,children:[Object(v.jsxs)("div",{className:_.a.meta,children:[Object(v.jsx)(b.a,{faw:!0,icon:this.state.isLiked?"fa-heart":"fa-heart-o",iconTitle:this.props.blog.likesCount,onClick:this.onLike}),Object(v.jsx)(b.a,{faw:!0,icon:this.state.isCommented?"fa-comment":"fa-comment-o",iconTitle:this.props.blog.commentsCount,onClick:this.toggleCommentDisplay}),Object(v.jsx)(this.tooltipBlogMeta,{blog:this.props.blog,toolTipText:this.props.blog.postedOn,position:"bottom"})]}),this.state.showComment?Object(v.jsx)(U,{comment:this.state.currentUserComment,onInput:this.updateCurrentUserComment,onKeyPress:this.onComment,placeHolder:"Enter to post the comment",onIconClick:this.addComment,comments:this.props.blog.comments}):Object(v.jsx)("div",{className:_.a.content,onClick:this.toggleContent,children:this.props.blog.blog})]})]})}}]),n}(p.a.Component);var K=Object(m.b)((function(t){var e=t.user;return{currentUser:e.currentUser,isAnonymous:e.isAnonymous}}),(function(t){return{updateBlog:function(e){return t(Object(S.c)(e))},addNotification:function(e,n){return t(Object(L.a)(e,n))}}}))(T),V=n(132),H=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{id:h.a.blogContainer,children:this.props.blogs&&this.props.blogs.length?this.props.blogs.map((function(t,e){return Object(v.jsx)(K,{className:h.a.blog,blog:t,liked:t.likesCount,commented:t.commentsCount},e)})):Object(v.jsx)("img",{src:V.a,alt:"404"})})}}]),n}(p.a.Component),q=n(134),J=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).state={searchInput:""},o.updateSearch=o.updateSearch.bind(Object(i.a)(o)),o}return Object(a.a)(n,[{key:"updateSearch",value:function(t){this.setState({searchInput:t})}},{key:"render",value:function(){return Object(v.jsxs)("div",{id:h.a.videoContainer,children:[Object(v.jsx)(P.a,{placeHolder:"Anime Name, Title",icon:"fa-search",onInput:this.updateValue}),Object(v.jsx)("div",{className:h.a.videoBox,children:(this.props.videos||[]).length?(this.props.videos||[]).map((function(t){return Object(v.jsx)(B,Object(o.a)({},t))})):Object(v.jsx)("img",{src:V.a,alt:"404"})})]})}}]),n}(p.a.Component),E=n(52),W=n(14),z=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(t){var o;return Object(s.a)(this,n),(o=e.call(this,t)).state={isLoggedOut:!1,properties:{aTitle:"Blog",bTitle:"Videos",componentA:{className:h.a.blogCard,blogs:(o.props.blogs||[]).filter((function(t){return t.genre==o.props.match.params.genre}))},componentB:{className:h.a.blogCard}}},o.blogContainer=Object(q.a)(H),o.videoContainer=Object(q.a)(J),o.logout=o.logout.bind(Object(i.a)(o)),o.updateUnavailability=o.updateUnavailability.bind(Object(i.a)(o)),o}return Object(a.a)(n,[{key:"componentDidUpdate",value:function(t){var e=this;if(t.match.params.genre!==this.props.match.params.genre||t.blogs.length!==this.props.blogs.length){var n=Object.assign({},this.state.properties);n.componentA.blogs=this.props.blogs.filter((function(t){return t.genre==e.props.match.params.genre})),this.setState({properties:n})}}},{key:"logout",value:function(){var t=this;D.a.signOut().then((function(){t.props.updateCurrentUser(I.b),t.props.addNotification(Math.random(),{title:"Logged out successfully",minimize:!0}),t.props.updateAdminPrivilege(I.b.hash,""),t.setState({isLoggedOut:!0})})).catch((function(e){t.props.addNotification(Math.random(),{title:"Error logging out",notification:e.message})}))}},{key:"updateUnavailability",value:function(){var t=Date.now();this.props.addNotification(t,{id:t,notification:"Sorry, That feature is still under development",title:"Feature not ready yet :("})}},{key:"componentDidMount",value:function(){this.setState({isLoggedOut:this.props.match.params.userId!==this.props.userHash})}},{key:"render",value:function(){return this.state.isLoggedOut?Object(v.jsx)(W.a,{to:I.f.auth}):Object(v.jsxs)("div",{id:h.a.main,children:[Object(v.jsx)(d.a,{properties:this.state.properties,componentA:this.blogContainer,componentB:this.videoContainer}),Object(v.jsx)(O,{className:h.a.fab,items:[this.props.isAdmin?{faw:!0,iconTitle:"Post",icon:"fa-sticky-note-o",path:I.f.newBlog}:null,this.props.currentUser.isAnonymous?null:{faw:!0,iconTitle:"Logout",icon:"fa-power-off",isLink:!1,onClick:this.logout},{faw:!0,iconTitle:"Manga",icon:"fa-paint-brush",path:"#",onClick:this.updateUnavailability},{faw:!0,iconTitle:"Dashboard",icon:"fa-user",path:I.e.dash(this.props.userHash)}].filter((function(t){return Boolean(t)})).map((function(t){return Object(o.a)({isLink:!0},t)}))})]})}}]),n}(p.a.Component);e.default=Object(m.b)((function(t){var e=t.user,n=t.blog;return{isAdmin:e.isAdmin,currentUser:e.currentUser,userHash:e.userHash,blogs:n.blogs}}),(function(t){return{updateCurrentUser:function(e){return t(Object(E.b)(e))},addNotification:function(e,n){return t(Object(L.a)(e,n))},updateAdminPrivilege:function(e,n){return t(Object(E.a)(e,n))}}}))(z)}}]);